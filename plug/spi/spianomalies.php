<?php //spianomalies
class spianomalies{
static function anomalies(){return '[H 1|1||||||He 2|1|2|||||사u lieu de|2||||||Li 3|2|1|||||샆||||||ㅅnomalie 1 : le 12 saute|||||||Ti 22|2|2+6|2+6+2|2|||Va 23|2|2+6|2+6+3|2|||Cr 24|2|2+6|2+6+5|1|||사u lieu de|2|2+6|2+6+4|2|||Mg 25|2|2+6|2+6+5|2|||샆||||||ㅅnomalie 2|le 17 saute||||||Ni 28|2|2+6|2+6+8|2|||Cu 29|2|2+6|2+6+10|1|||사u lieu de|2|2+6|2+6+9|2|||Zn 30|2|2+6|2+6+10|2|||샆||||||ㅅnomalie 3|le 11 saute||||||Zr 40|2|2+6|2+6+10|2+6+2|2||Nb 41|2|2+6|2+6+10|2+6+4|1||사u liieu de|2|2+6|2+6+10|2+6+3|2||Mo 42|2|2+6|2+6+10|2+6+5|1||사u lieu de|2|2+6|2+6+10|2+6+4|2||Tc 43|2|2+6|2+6+10|2+6+5|2||샆||||||ㅅnomalie 4|le 14 saute||||||Ru 44|2|2+6|2+6+10|2+6+7|1||사u lieu de|2|2+6|2+6+10|2+6+6|2||Rh 45|2|2+6|2+6+10|2+6+8|1||사u lieu de|2|2+6|2+6+10|2+6+7|2||샆||||||ㅅnomalie 5|le 17 saute||||||Pd 46|2|2+6|2+6+10|2+6+10|0||사u lieu de|2|2+6|2+6+10|2+6+8|2||ㅅg 47|2|2+6|2+6+10|2+6+10|1||사u lieu de|2|2+6|2+6+10|2+6+9|2||Dc 48|2|2+6|2+6+10|2+6+10|2||샆||||||ㅅnomalie 6|Le 20 saute|de la couronne pr匐卜ente|||||Pr 59Ba 56|2|2+6|2+6+10|2+6+10|2+6|2|La 57|2|2+6|2+6+10|2+6+10|2+6+1|2|사u lieu de 2|2|2+6|2+6+10|2+6+10+1|2+6|2|Ce 58|2|2+6|2+6+10|2+6+10+1|2+6+1|2|사u lieu de 2|2|2+6|2+6+10|2+6+10+2|2+6|2|Pr 59|2|2+6|2+6+10|2+6+10+3|2+6|2|샆||||||ㅅnomalie 7|Le 26 saute||||||Eu 63|2|2+6|2+6+10|2+6+10+7|2+6|2|Gd 64|2|2+6|2+6+10|2+6+10+7|2+6+1|2|사u lieu de|2|2+6|2+6+10|2+6+10+8|2+6|2|Tb 65|2|2+6|2+6+10|2+6+10+9|2+6|2|샆||||||ㅅnomalie 8|Le 16 saute||||||Ir 77|2|2+6|2+6+10|2+6+10+14|2+6+7|2|Pt 78|2|2+6|2+6+10|2+6+10+14|2+6+9|1|사u lieu de|2|2+6|2+6+10|2+6+10+14|2+6+8|2|ㅅu 79|2|2+6|2+6+10|2+6+10+14|2+6+10|1|사u lieu de|2|2+6|2+6+10|2+6+10+14|2+6+9|2|Hg 80|2|2+6|2+6+10|2+6+10+14|2+6+10|2|샆||||||ㅅnomalie 9 : le 19 saute|||||||Ra 88|2|2+6|2+6+10|2+6+10+14|2+6+10|2+6|2ㅅc 89|2|2+6|2+6+10|2+6+10+14|2+6+10|2+6+1|2ㅅc 89|2|2+6|2+6+10|2+6+10+14|2+6+10+1|2+6|2Th 90|2|2+6|2+6+10|2+6+10+14|2+6+10|2+6+2|2사u lieu de|2|2+6|2+6+10|2+6+10+14|2+6+10+2|2+6|2Pa 91|2|2+6|2+6+10|2+6+10+14|2+6+10+2|2+6+1|2사u lieu de|2|2+6|2+6+10|2+6+10+14|2+6+10+3|2+6|2U 92|2|2+6|2+6+10|2+6+10+14|2+6+10+3|2+6+1|2사u lieu de|2|2+6|2+6+10|2+6+10+14|2+6+10+4|2+6|2Np 93|2|2+6|2+6+10|2+6+10+14|2+6+10+4|2+6+1|2사u lieu de|2|2+6|2+6+10|2+6+10+14|2+6+10+5|2+6|2Pu 94|2|2+6|2+6+10|2+6+10+14|2+6+10+6|2+6|2샆||||||ㅅnomalie 10 : le 26 saute|||||||ㅅm 95|2|2+6|2+6+10|2+6+10+14|2+6+10+7|2+6|2Cm 96|2|2+6|2+6+10|2+6+10+14|2+6+10+7|2+6+1|2사u lieu de|2|2+6|2+6+10|2+6+10+14|2+6+10+8|2+6|2Bk 97|2|2+6|2+6+10|2+6+10+14|2+6+10+9|2+6|2샆||||||ㅅnomalie 11 : le 9 saute|||||||No 102|2|2+6|2+6+10|2+6+10+14|2+6+10+14|2+6|2Lr 103|2|2+6|2+6+10|2+6+10+14|2+6+10+14|2+6|2+1사u lieu de|2|2+6|2+6+10|2+6+10+14|2+6+10+14|2+6+1|2Rf 104|2|2+6|2+6+10|2+6+10+14|2+6+10+14|2+6+2|2샆||||||ㅅnomalie 12 : le16 saute|||||||Mt 109|2|2+6|2+6+10|2+6+10+14|2+6+10+14|2+6+7|2Ds 110|2|2+6|2+6+10|2+6+10+14|2+6+10+14|2+6+9|1사u lieu de|2|2+6|2+6+10|2+6+10+14|2+6+10+14|2+6+8|2Rg 111|2|2+6|2+6+10|2+6+10+14|2+6+10+14|2+6+10|1사u lieu de|2|2+6|2+6+10|2+6+10+14|2+6+10+14|2+6+9|2Cn 112|2|2+6|2+6+10|2+6+10+14|2+6+10+14|2+6+10|2:table]';}

static function js($id){return '
function checkArrows(e,id){
var n=getbyid(\'bar\'+id).value; //alert(n);
if(e && e.which)var c=e.which; else var c=e.keyCode; //alert(c);
if(c==37)var nb=n-1; if(c==39)var nb=n-(-1); //alert(nb);
getbyid(id).value=nb;
getbyid(\'lbl\'+id).innerHTML=nb;
SaveJ(\''.$id.'_spianomalies,call___\'+(nb)+\'_\'+id);}
addEvent(document,\'keypress\',function(event){checkArrows(event,id)});

function spiatom(id,n){
	getbyid(\'lbl\'+id).innerHTML=n;
	SaveJ(\''.$id.'_spianomalies,call___\'+n+\'_\'+\''.$id.'\');}
';}

static function jb(){
$ret=self::anomalies();
return conn::read($ret,'','');}

static function build($p,$o){
if($p)$r=msql::row('','public_atomic',$p); //pr($r);
$rb=explode('-',$r[3]); //pr($rb);
$rings=[0=>2,1=>8,2=>18,3=>32,4=>50];
$subrings=[0=>2,1=>6,2=>10,3=>14,4=>18];
$clr=[0=>'blue',1=>'red',2=>'darkgreen',3=>'darkviolet',4=>'deepskyblue'];
foreach($rb as $k=>$v){//$k=ring
	$max=val($rings,$k); $ic=0;
	for($ia=0;$ia<=$k;$ia++){
		$mx=val($subrings,$ia);
		for($ib=1;$ib<=$mx;$ib++){$ic++;
			$d=bts('font-size:22px; color:'.($ic<=$v?$clr[$ia]:'silver').';',asciinb($ib));
			if(isset($rc[$k][$ia]))$rc[$k][$ia].=$d; else $rc[$k][$ia]=$d;}}
	if($rc[$k])$ret[]=implode('|',$rc[$k]);}
$bt=lj('',$o.'_spianomalies,call___'.($p-1).'_'.$o,ascii(129144));
$bt.=lj('',$o.'_spianomalies,call___'.($p+1).'_'.$o,ascii(129146)).' ';
$bt.=btn('txtx',$r[0].' '.$r[1].' '.$p.' ('.$r[2].')').br();
if($ret)return $bt.div('',implode(br(),$ret));}

static function call($p,$o,$prm=[]){
$ret=self::build($p,$o);
return $ret;}

static function menu($p,$o,$rid){
$ret=lk('/app/spt',picto('filelist')).' ';
$ret.=lk('/app/spianomalies',picto('url')).' ';
$ret.=msqbt('','public_atomic').' ';
$ret.=bar('inp'.$rid,$p,$step=1,$min=1,$max=117,$js='spiatom','360px');
$ret.=lj('',$rid.'_spianomalies,jb',picto('txt')).' ';
return $ret;}

static function home($p=1,$o){$rid=('spa'); $p=$p?$p:1;
$bt=self::menu($p,$o,$rid);
Head::add('jscode',self::js($rid));
$ret=self::build($p,$rid);
return $bt.divd($rid,$ret);}
}
?>